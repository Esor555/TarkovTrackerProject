@page
@model hideoutModel
@{
}
<h1 class="text-2xl font-bold mb-4">Hideout Stations</h1>

@foreach (var station in Model.Stations)
{
	<div class="border border-gray-300 rounded-lg p-4 mb-4">
		<h2 class="text-xl font-semibold">@station.Name</h2>

		@if (!string.IsNullOrEmpty(station.ImageLink))
		{
			<img src="@station.ImageLink" alt="@station.Name" class="w-48 h-auto my-2" />
		}

		<p>ID: @station.Id</p>
		<p>TarkovDataId @(station.TarkovDataId?.ToString() ?? "Null")</p>

		<div class="mt-2">
			<h3 class="text-lg font-semibold">Levels</h3>
			@foreach (var level in station.Levels)
			{
				<div class="ml-4 mb-2 border-l-4 border-blue-500 pl-4">
					<p>Level @level.Level</p>
					<p>Construction Time: @level.TimeToHour() hours</p>

					@if (level.ItemRequirements != null && level.ItemRequirements.Count > 0)
					{
						<p>Item Requirements:</p>
						<ul class="list-disc ml-6">
							@foreach (var item in level.ItemRequirements)
							{
								<li>
									@item.Quantity x @item.Item?.Name 
								</li>
							}
						</ul>
					}
					else
					{
						<p class="text-sm text-gray-500">No item requirements</p>
					}
				</div>
			}
		</div>
	</div>
}
